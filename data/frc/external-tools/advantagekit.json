{
  "title": "AdvantageKit: Logging and Replay Framework",
  "sections": [
    {
      "type": "text",
      "title": "What is AdvantageKit?",
      "content": "AdvantageKit is a logging, telemetry, and replay framework developed by Team 6328 (Mechanical Advantage). It records every input to your robot code—every sensor reading, button press, and joystick value—during a match. After the match, you can replay these recorded inputs through your robot code in simulation to debug issues and verify fixes.<br><br>Unlike traditional logging that records selected outputs, AdvantageKit records all inputs. This enables <a href='https://docs.advantagekit.org/data-flow/built-in-logging' target='_blank'>deterministic log replay</a>: your robot code runs exactly as it did during the match, using the same sensor values in the same order.<br><br>AdvantageKit is free, open-source, and works with any vendor hardware. Learn more: <a href='https://docs.advantagekit.org/' target='_blank'>AdvantageKit Documentation</a> | <a href='https://github.com/Mechanical-Advantage/AdvantageKit' target='_blank'>AdvantageKit GitHub</a>"
    },
    {
      "type": "text",
      "title": "How It Works",
      "content": "AdvantageKit requires you to structure your code using the <a href='https://docs.advantagekit.org/data-flow/recording-inputs/io-interfaces/' target='_blank'>IO Layer pattern</a>. Instead of reading sensors directly, your subsystems interact with an IO interface that can be swapped between real hardware, simulation, or a log file player.<br><br>During a match, the IO layer reads real hardware and AdvantageKit automatically logs all input values. After the match, you can run your code in replay mode, where the IO layer reads from the log file instead of hardware. Your robot code runs unchanged, receiving the exact same inputs it received during the match."
    },
    {
      "type": "code",
      "title": "AdvantageKit Subsystem Structure",
      "content": "public class Flywheel extends SubsystemBase {\n    // 1. Define the inputs that will be logged\n    // API: @AutoLog annotation - https://docs.advantagekit.org/javadoc/org/littletonrobotics/junction/AutoLog.html\n    @AutoLog\n    public static class FlywheelInputs {\n        public double velocityRadPerSec = 0.0;\n        public double appliedVolts = 0.0;\n        public double currentAmps = 0.0;\n    }\n\n    // 2. Define the IO Interface\n    public interface FlywheelIO {\n        default void updateInputs(FlywheelInputs inputs) {}\n        default void setVoltage(double volts) {}\n    }\n\n    private final FlywheelIO io;\n    private final FlywheelInputsAutoLogged inputs = new FlywheelInputsAutoLogged();\n\n    // Constructor injects the implementation (Real, Sim, or Replay)\n    public Flywheel(FlywheelIO io) {\n        this.io = io;\n    }\n\n    @Override\n    public void periodic() {\n        // 3. Update inputs from the IO layer\n        io.updateInputs(inputs);\n        \n        // 4. Log the inputs automatically\n        // API: Logger.processInputs() - https://docs.advantagekit.org/javadoc/org/littletonrobotics/junction/Logger.html#processInputs(java.lang.String,java.lang.Object)\n        Logger.processInputs(\"Flywheel\", inputs);\n\n        // Your logic uses 'inputs.velocityRadPerSec' instead of 'motor.getVelocity()'\n    }\n\n    public void runVolts(double volts) {\n        io.setVoltage(volts);\n    }\n}"
    },
    {
      "type": "text",
      "title": "Logging",
      "content": "AdvantageKit automatically logs all fields in classes annotated with <a href='https://docs.advantagekit.org/javadoc/org/littletonrobotics/junction/AutoLog.html' target='_blank'>@AutoLog</a>. It uses a high-performance binary format (WPILOG/RLOG) that records data every loop cycle with minimal overhead. (<a href='https://docs.advantagekit.org/getting-started/what-is-advantagekit/example-output-logging/' target='_blank'>Logging Documentation</a>)<br><br>You can also log custom outputs using <a href='https://docs.advantagekit.org/javadoc/org/littletonrobotics/junction/Logger.html#recordOutput(java.lang.String,java.lang.Object)' target='_blank'>Logger.recordOutput()</a>:<br><code>Logger.recordOutput(\"MyState/Target\", targetValue);</code><br><code>Logger.recordOutput(\"Odometry/Pose\", pose);</code>"
    },
    {
      "type": "text",
      "title": "Log Replay",
      "content": "Log replay is AdvantageKit's core feature. After a match, download the log file and run your robot code in replay mode. The IO layer reads from the log file instead of hardware, feeding the recorded sensor values into your code in the same order they occurred during the match.<br><br>This lets you debug match issues without the robot. You can step through code, inspect variables, modify logic, and verify that fixes work against real match data. The replay is deterministic: if your code is deterministic, the replay will match the robot's behavior exactly.<br><br>Learn more: <a href='https://docs.advantagekit.org/data-flow/built-in-logging' target='_blank'>Log Replay Documentation</a>"
    },
    {
      "type": "rules-box",
      "title": "Getting Started",
      "subtitle": "Best practices:",
      "items": [
        "Use the <a href='https://docs.advantagekit.org/data-flow/recording-inputs/io-interfaces/' target='_blank'>IO Layer pattern</a> for all subsystems that interact with hardware.",
        "Log all inputs using <a href='https://docs.advantagekit.org/javadoc/org/littletonrobotics/junction/AutoLog.html' target='_blank'>@AutoLog</a> annotations.",
        "Log important outputs and states using <a href='https://docs.advantagekit.org/javadoc/org/littletonrobotics/junction/Logger.html#recordOutput(java.lang.String,java.lang.Object)' target='_blank'>Logger.recordOutput()</a>.",
        "Keep input classes simple: use primitives and basic data structures.",
        "Use <a href='https://docs.advantagescope.org' target='_blank'>AdvantageScope</a> to visualize and analyze log files.",
        "Keep your code deterministic: avoid random numbers, timestamps, or other non-deterministic sources in logic."
      ]
    },
    {
      "type": "link-grid",
      "title": "Resources",
      "links": [
        {
          "label": "AdvantageScope",
          "id": "advantagescope"
        },
        {
          "label": "Simulation Basics",
          "id": "simulation-basics"
        },
        {
          "label": "AdvantageKit Documentation",
          "url": "https://docs.advantagekit.org/"
        },
        {
          "label": "AdvantageKit GitHub",
          "url": "https://github.com/Mechanical-Advantage/AdvantageKit"
        },
        {
          "label": "AdvantageKit API",
          "url": "https://docs.advantagekit.org/javadoc/"
        }
      ]
    }
  ]
}