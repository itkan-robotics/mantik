{
  "title": "REV Sensors",
  "sections": [
    {
      "type": "text",
      "title": "NEO Built-in Encoder",
      "content": "NEO motors have internal relative encoders (42 counts/rev). Useful for velocity and basic position control."
    },
    {
      "type": "code",
      "title": "Reading Encoder",
      "content": "package frc.robot.subsystems;\n\nimport com.revrobotics.spark.SparkMax;\nimport com.revrobotics.spark.SparkLowLevel.MotorType;\nimport com.revrobotics.spark.RelativeEncoder;\nimport com.revrobotics.spark.config.SparkMaxConfig;\n\npublic class Drivetrain extends SubsystemBase {\n    private SparkMax sparkMax = new SparkMax(1, MotorType.kBrushless);\n    private RelativeEncoder encoder = sparkMax.getEncoder();\n    \n    public void configureEncoder() {\n        SparkMaxConfig config = new SparkMaxConfig();\n        // Set conversion factor: 0.05 meters per rotation\n        // Adjust based on your wheel diameter and gear ratio\n        config.encoder.positionConversionFactor(0.05);\n        config.encoder.velocityConversionFactor(0.05);\n        sparkMax.configure(config, ...);\n    }\n    \n    public void readEncoder() {\n        // Get position in rotations (or meters if conversion factor set)\n        double pos = encoder.getPosition();\n        // Get velocity in RPM (or m/s if conversion factor set)\n        double vel = encoder.getVelocity();\n    }\n}"
    },
    {
      "type": "text",
      "title": "Color Sensor V3",
      "content": "Detects color (RGB) and proximity. Connects via I2C (Onboard or MXP)."
    },
    {
      "type": "code",
      "title": "Color Sensor Usage",
      "content": "package frc.robot.subsystems;\n\nimport com.revrobotics.ColorSensorV3;\nimport edu.wpi.first.wpilibj.I2C;\nimport edu.wpi.first.wpilibj.util.Color;\n\npublic class Intake extends SubsystemBase {\n    // Create color sensor on onboard I2C port\n    // Alternative: I2C.Port.kMXP for MXP port\n    private ColorSensorV3 colorSensor = new ColorSensorV3(I2C.Port.kOnboard);\n    \n    /**\n     * Get detected color from sensor\n     * @return Color object with RGB values\n     */\n    public Color getDetectedColor() {\n        return colorSensor.getColor();\n    }\n    \n    /**\n     * Get proximity reading\n     * @return Proximity value (0-2047, higher = closer)\n     */\n    public int getProximity() {\n        return colorSensor.getProximity();\n    }\n}"
    },
    {
      "type": "link-grid",
      "title": "Related",
      "links": [
        {
          "label": "REV Setup",
          "id": "rev-hardware-setup"
        },
        {
          "label": "Motor PID",
          "id": "motor-pid-control"
        }
      ]
    }
  ]
}
