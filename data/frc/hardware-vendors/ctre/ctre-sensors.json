{
  "title": "CTRE Sensors",
  "sections": [
    {
      "type": "text",
      "title": "CANcoder",
      "content": "Absolute magnetic encoder. Retains position after power cycles. Essential for Swerve modules."
    },
    {
      "type": "code",
      "title": "CANcoder Usage",
      "content": "package frc.robot.subsystems;\n\nimport com.ctre.phoenix6.hardware.CANcoder;\nimport com.ctre.phoenix6.configs.CANcoderConfiguration;\n\npublic class SwerveModule extends SubsystemBase {\n    // Create CANcoder on CAN ID 10\n    private CANcoder encoder = new CANcoder(10);\n    \n    public SwerveModule() {\n        // Configure magnet offset (calibrate for your module)\n        CANcoderConfiguration config = new CANcoderConfiguration();\n        // Offset in rotations to align zero position\n        config.MagnetSensor.MagnetOffset = 0.25;\n        encoder.getConfigurator().apply(config);\n    }\n    \n    /**\n     * Get absolute position from encoder\n     * @return Position in rotations (0.0 to 1.0)\n     */\n    public double getPosition() {\n        return encoder.getAbsolutePosition().getValueAsDouble();\n    }\n}"
    },
    {
      "type": "text",
      "title": "Pigeon 2",
      "content": "IMU/Gyroscope. Provides Heading (Yaw), Pitch, and Roll. Used for Field-Centric driving."
    },
    {
      "type": "code",
      "title": "Pigeon 2 Usage",
      "content": "package frc.robot.subsystems;\n\nimport com.ctre.phoenix6.hardware.Pigeon2;\nimport edu.wpi.first.math.geometry.Rotation2d;\n\npublic class Drivetrain extends SubsystemBase {\n    // Create Pigeon 2 on CAN ID 0\n    private Pigeon2 gyro = new Pigeon2(0);\n    \n    /**\n     * Get robot heading (yaw angle)\n     * @return Yaw angle in degrees\n     */\n    public double getYaw() {\n        return gyro.getYaw().getValueAsDouble();\n    }\n    \n    /**\n     * Get robot heading as Rotation2d\n     * @return Rotation2d object\n     */\n    public Rotation2d getRotation2d() {\n        return Rotation2d.fromDegrees(getYaw());\n    }\n    \n    /**\n     * Reset yaw to zero\n     */\n    public void resetYaw() {\n        gyro.setYaw(0);\n    }\n}"
    },
    {
      "type": "link-grid",
      "title": "Related",
      "links": [
        {
          "label": "CTRE Setup",
          "id": "ctre-hardware-setup"
        },
        {
          "label": "Pose Estimation",
          "id": "pose-estimation-intro"
        }
      ]
    }
  ]
}
