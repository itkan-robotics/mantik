{
  "title": "Motor Configuration",
  "sections": [
    {
      "type": "text",
      "title": "Essentials",
      "content": "Every motor controller should be configured for safety and consistency. Key parameters:"
    },
    {
      "type": "rules-box",
      "title": "Parameters",
      "subtitle": "Configure these:",
      "items": [
        "<strong>Inversion:</strong> Positive input = Forward motion.",
        "<strong>Idle Mode:</strong> Brake (Hold) vs Coast (Spin).",
        "<strong>Current Limit:</strong> Protect motor/battery (e.g., 40A).",
        "<strong>Voltage Comp:</strong> Consistent output despite battery drain (e.g., 12V).",
        "<strong>Ramp Rate:</strong> Limit acceleration to prevent brownouts/wear."
      ]
    },
    {
      "type": "code-tabs",
      "title": "Configuration Code",
      "content": "Applying these settings:",
      "tabs": [
        {
          "label": "Talon FX",
          "code": "package frc.robot.subsystems;\n\nimport com.ctre.phoenix6.hardware.TalonFX;\nimport com.ctre.phoenix6.configs.TalonFXConfiguration;\nimport com.ctre.phoenix6.signals.InvertedValue;\nimport com.ctre.phoenix6.signals.NeutralModeValue;\n\npublic class Drivetrain extends SubsystemBase {\n    private TalonFX motor = new TalonFX(1);\n    \n    // ... (other fields and methods)\n    \n    public void configureMotor() {\n        TalonFXConfiguration config = new TalonFXConfiguration();\n        \n        // Set motor direction\n        config.MotorOutput.Inverted = InvertedValue.CounterClockwise_Positive;\n        // Set neutral mode (Brake or Coast)\n        config.MotorOutput.NeutralMode = NeutralModeValue.Brake;\n        \n        // Current limiting (Stator = motor protection, Supply = battery protection)\n        config.CurrentLimits.StatorCurrentLimitEnable = true;\n        config.CurrentLimits.StatorCurrentLimit = 40.0;\n        \n        // Voltage compensation (maintains consistent output despite battery voltage)\n        config.Voltage.PeakForwardVoltage = 12.0;\n        config.Voltage.PeakReverseVoltage = -12.0;\n        \n        // Ramp rate: time to reach full output (reduces sudden changes)\n        config.ClosedLoopRamps.VoltageClosedLoopRampPeriod = 0.25; // 0.25 seconds\n        \n        motor.getConfigurator().apply(config);\n    }\n    \n    // ... (rest of class)"
        },
        {
          "label": "SPARK MAX",
          "code": "package frc.robot.subsystems;\n\nimport com.revrobotics.spark.SparkMax;\nimport com.revrobotics.spark.SparkLowLevel.MotorType;\nimport com.revrobotics.spark.config.SparkMaxConfig;\nimport com.revrobotics.spark.config.SparkBaseConfig.IdleMode;\nimport com.revrobotics.spark.SparkBase.ResetMode;\nimport com.revrobotics.spark.SparkBase.PersistMode;\n\npublic class Drivetrain extends SubsystemBase {\n    private SparkMax motor = new SparkMax(1, MotorType.kBrushless);\n    \n    // ... (other fields and methods)\n    \n    public void configureMotor() {\n        SparkMaxConfig config = new SparkMaxConfig();\n        \n        // Chain configuration methods\n        config\n            .inverted(false)              // Motor direction\n            .idleMode(IdleMode.kBrake)    // Neutral mode\n            .smartCurrentLimit(40)        // Current limit in amps\n            .voltageCompensation(12.0)    // Voltage compensation\n            .closedLoopRampRate(0.25);    // Ramp rate in seconds\n        \n        motor.configure(config, ResetMode.kResetSafeParameters, PersistMode.kPersistParameters);\n    }\n    \n    // ... (rest of class)"
        }
      ]
    },
    {
      "type": "link-grid",
      "title": "Resources",
      "links": [
        {
          "label": "Motor PID Control",
          "id": "motor-pid-control"
        },
        {
          "label": "Current Limiting Details",
          "id": "motor-current-limiting"
        }
      ]
    }
  ]
}
