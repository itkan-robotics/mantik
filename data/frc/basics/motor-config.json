{
  "title": "Motor Configuration",
  "sections": [
    {
      "type": "text",
      "title": "Overview",
      "content": "Proper configuration ensures motors operate safely and correctly. Essential settings include inversion, idle mode, and current limits."
    },
    {
      "type": "rules-box",
      "title": "Key Settings",
      "subtitle": "Configure these for every motor:",
      "items": [
        "<strong>Inversion:</strong> Ensure positive output moves the mechanism forward.",
        "<strong>Idle Mode:</strong> Choose between Brake (hold position) or Coast (free spin).",
        "<strong>Current Limit:</strong> Protect hardware from over-current damage."
      ]
    },
    {
      "type": "text",
      "title": "1. Inversion",
      "content": "Set this so that positive software values match the physical \"forward\" direction of the mechanism.<br><strong>Test:</strong> Apply small positive power (0.2). If it moves backward, enable inversion."
    },
    {
      "type": "code-tabs",
      "title": "Inversion Code",
      "content": "Setting inversion:",
      "tabs": [
        {
          "label": "Talon FX",
          "code": "// ... (in robotInit() or constructor)\n\nTalonFXConfiguration config = new TalonFXConfiguration();\n// Set motor direction (adjust based on your mechanism)\nconfig.MotorOutput.Inverted = InvertedValue.CounterClockwise_Positive;\n// Alternative: InvertedValue.Clockwise_Positive\nm_motor.getConfigurator().apply(config);\n\n// ... (rest of method/class)"
        },
        {
          "label": "SPARK MAX",
          "code": "// ... (in robotInit() or constructor)\n\nSparkMaxConfig config = new SparkMaxConfig();\n// Set motor direction (true = inverted, false = normal)\nconfig.inverted(true);\n// Alternative: config.inverted(false)\nm_motor.configure(config, ResetMode.kResetSafeParameters, PersistMode.kPersistParameters);\n\n// ... (rest of method/class)"
        }
      ]
    },
    {
      "type": "text",
      "title": "2. Idle Mode",
      "content": "<strong>Brake:</strong> Motor resists motion when output is 0. Use for elevators, arms, and drivetrains.<br><strong>Coast:</strong> Motor spins freely when output is 0. Use for flywheels and intakes."
    },
    {
      "type": "code-tabs",
      "title": "Idle Mode Code",
      "content": "Setting idle mode:",
      "tabs": [
        {
          "label": "Talon FX",
          "code": "// ... (in configuration section)\n\n// Brake: Motor resists motion when stopped (good for elevators, arms)\nconfig.MotorOutput.NeutralMode = NeutralModeValue.Brake;\n// Coast: Motor spins freely when stopped (good for flywheels, intakes)\n// Alternative: NeutralModeValue.Coast\n\n// ... (rest of configuration)"
        },
        {
          "label": "SPARK MAX",
          "code": "// ... (in configuration section)\n\n// Brake: Motor resists motion when stopped (good for elevators, arms)\nconfig.idleMode(IdleMode.kBrake);\n// Coast: Motor spins freely when stopped (good for flywheels, intakes)\n// Alternative: IdleMode.kCoast\n\n// ... (rest of configuration)"
        }
      ]
    },
    {
      "type": "text",
      "title": "3. Current Limits",
      "content": "Prevents burnout and brownouts by capping amperage. Recommended values: 20-40A for small motors, 40-60A for drive motors."
    },
    {
      "type": "code-tabs",
      "title": "Current Limit Code",
      "content": "Setting limits:",
      "tabs": [
        {
          "label": "Talon FX",
          "code": "// ... (in configuration section)\n\n// Enable current limiting to protect motor from overheating\nconfig.CurrentLimits.StatorCurrentLimitEnable = true;\n// Set limit to 40A (adjust based on motor and application)\nconfig.CurrentLimits.StatorCurrentLimit = 40.0;\n\n// ... (rest of configuration)"
        },
        {
          "label": "SPARK MAX",
          "code": "// ... (in configuration section)\n\n// Set smart current limit to 40A (adjust based on motor and application)\n// This protects the motor from overheating\nconfig.smartCurrentLimit(40);\n\n// ... (rest of configuration)"
        }
      ]
    },
    {
      "type": "link-grid",
      "title": "Related",
      "links": [
        {
          "label": "Intake Example",
          "id": "intake-example-robot"
        },
        {
          "label": "Advanced Configuration",
          "id": "motor-controller-configuration"
        }
      ]
    }
  ]
}
